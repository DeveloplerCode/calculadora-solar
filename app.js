function a0_0x3323(){const _0x4c6cb7=['month',')\x22\x20style=\x22padding:\x205px\x2010px;\x20background:\x20#ef4444;\x20width:\x20auto;\x20font-size:\x200.8rem;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','\x20Serie\x20×\x20','6569024bTQNIa','Error\x20al\x20obtener\x20ubicación.\x20Se\x20usarán\x20valores\x20manuales.','panelsInSeries','message','results','search','battery-badge\x20','h\x20x\x20','removeAppliance','\x20Wh/día</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22removeApp(','hspInfo','systemVoltage','\x20Paralelo','mpptMaxVoltage','\x0a\x20\x20\x20\x20<div\x20class=\x22appliance-item\x20animate-fade\x22>\x0a\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<strong>','totalWh','panelPower','batteryIndicator','change','appPeak','batteryUnitAh','toLocaleString','mpptAmperage',')\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20gap:\x2015px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>','getElementById','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22soc-item\x22\x20style=\x22background:\x20rgba(255,255,255,0.05);\x20padding:\x2010px;\x20border-radius:\x208px;\x20text-align:\x20center;\x20border:\x201px\x20solid\x20rgba(255,255,255,0.1);\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:\x200.7rem;\x20color:\x20var(--text-muted);\x22>','\x20Serie\x20x\x20','LITIO\x20LFP','innerText','numBatteries','subTotalWh','Obteniendo...','panelVoc','toFixed','addEventListener','preventDefault','submit','name','style','toString','map','dailyHSP','latitude','getCurrentPosition','performCalculation','panelIsc','smooth','block','batteryType','W\x20x\x20','V</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','resBatConfig','reset','3407064uYCQPD','applianceList','applianceForm','batteriesInSeries','11131040DHGRmH','checked','appQty','scrollIntoView','none','coords','resNumBat','hours','</span>\x20HSP:\x20<span\x20class=\x22result-value\x22>','\x20Wp','apply','3054264uMUwVo','innerHTML','dailyConsumption','resReqWp','resMPPT','Ah\x20(','2VGYJZF','Litio','\x20Wh','batteriesInParallel','value','parentElement','GEL\x20/\x20AGM','1289954qaexXI','solar','controller','display','gel','consumption','resVoltage','resMPPTVoltage','litio','geolocation','(((.+)+)+)+$','resNumPanels','\x20h</span>','9188795klUAho','resInvPower','className','resSubWh','resTotalWh','battery','resPanelStrings','2970572CytJzs','\x20V\x20(Voc\x20×\x20strings)','<span\x20class=\x22badge\x20badge-yellow\x22>Mes\x20Crítico:\x20','socTableContainer','click','panelsInParallel','%</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-weight:\x20700;\x20font-size:\x200.9rem;\x22\x20','inverter','appliances','longitude','style=\x22color:#ef5350\x22'];a0_0x3323=function(){return _0x4c6cb7;};return a0_0x3323();}const a0_0x30385e=a0_0x1e10;(function(_0x45dcf5,_0x32934b){const _0xe1bd2a=a0_0x1e10,_0x4e169a=_0x45dcf5();while(!![]){try{const _0x5ae267=parseInt(_0xe1bd2a(0x114))/0x1*(-parseInt(_0xe1bd2a(0x10d))/0x2)+parseInt(_0xe1bd2a(0x107))/0x3+-parseInt(_0xe1bd2a(0x128))/0x4+parseInt(_0xe1bd2a(0x121))/0x5+parseInt(_0xe1bd2a(0xf8))/0x6+parseInt(_0xe1bd2a(0x136))/0x7+-parseInt(_0xe1bd2a(0xfc))/0x8;if(_0x5ae267===_0x32934b)break;else _0x4e169a['push'](_0x4e169a['shift']());}catch(_0x477c9e){_0x4e169a['push'](_0x4e169a['shift']());}}}(a0_0x3323,0xe50a2));import{CalculatorViewModel}from'./src/presentation/viewmodels/CalculatorViewModel.js';const vm=new CalculatorViewModel(),applianceForm=document[a0_0x30385e(0xdb)](a0_0x30385e(0xfa)),applianceList=document[a0_0x30385e(0xdb)](a0_0x30385e(0xf9)),btnGetLocation=document[a0_0x30385e(0xdb)]('btnGetLocation'),btnCalculate=document['getElementById']('btnCalculate'),resultsDiv=document[a0_0x30385e(0xdb)](a0_0x30385e(0x13a)),hspInfo=document[a0_0x30385e(0xdb)](a0_0x30385e(0x140)),batteryTypeSelect=document[a0_0x30385e(0xdb)](a0_0x30385e(0xf3)),batteryIndicator=document[a0_0x30385e(0xdb)](a0_0x30385e(0x147));function updateBatteryIndicator(){const _0x1cef7c=a0_0x30385e,_0x289f38=(function(){let _0x5953d8=!![];return function(_0x3cbb19,_0x24e654){const _0x33ccc9=_0x5953d8?function(){const _0x5b9774=a0_0x1e10;if(_0x24e654){const _0x5711bd=_0x24e654[_0x5b9774(0x106)](_0x3cbb19,arguments);return _0x24e654=null,_0x5711bd;}}:function(){};return _0x5953d8=![],_0x33ccc9;};}()),_0x8bc54f=_0x289f38(this,function(){const _0x372c96=a0_0x1e10;return _0x8bc54f[_0x372c96(0xea)]()[_0x372c96(0x13b)]('(((.+)+)+)+$')[_0x372c96(0xea)]()['constructor'](_0x8bc54f)[_0x372c96(0x13b)](_0x372c96(0x11e));});_0x8bc54f();const _0x12eeb7=batteryTypeSelect[_0x1cef7c(0x111)];batteryIndicator[_0x1cef7c(0xdf)]=_0x12eeb7===_0x1cef7c(0x10e)?_0x1cef7c(0xde):_0x1cef7c(0x113),batteryIndicator[_0x1cef7c(0x123)]=_0x1cef7c(0x13c)+(_0x12eeb7==='Litio'?_0x1cef7c(0x11c):_0x1cef7c(0x118));}function a0_0x1e10(_0x49a57a,_0x20ad3d){_0x49a57a=_0x49a57a-0xd8;const _0x113d27=a0_0x3323();let _0x487d0e=_0x113d27[_0x49a57a];return _0x487d0e;}batteryTypeSelect['addEventListener'](a0_0x30385e(0x148),updateBatteryIndicator),updateBatteryIndicator(),applianceForm[a0_0x30385e(0xe5)](a0_0x30385e(0xe7),_0x34f4de=>{const _0x8bb7c4=a0_0x30385e;_0x34f4de[_0x8bb7c4(0xe6)]();const _0x1045ee={'name':document[_0x8bb7c4(0xdb)]('appName')[_0x8bb7c4(0x111)],'power':document[_0x8bb7c4(0xdb)]('appPower')[_0x8bb7c4(0x111)],'hours':document[_0x8bb7c4(0xdb)]('appHours')['value'],'quantity':document[_0x8bb7c4(0xdb)](_0x8bb7c4(0xfe))[_0x8bb7c4(0x111)],'hasPeak':document['getElementById'](_0x8bb7c4(0x149))[_0x8bb7c4(0xfd)]};vm['addAppliance'](_0x1045ee),renderAppliances(),applianceForm[_0x8bb7c4(0xf7)]();}),btnGetLocation[a0_0x30385e(0xe5)](a0_0x30385e(0x12c),()=>{const _0x3042d7=a0_0x30385e;navigator[_0x3042d7(0x11d)]&&(btnGetLocation[_0x3042d7(0xdf)]=_0x3042d7(0xe2),navigator[_0x3042d7(0x11d)][_0x3042d7(0xee)](_0x2d45cb=>{const _0x13fbbf=_0x3042d7,{latitude:_0x22f284,longitude:_0x5dff72}=_0x2d45cb[_0x13fbbf(0x101)];document['getElementById'](_0x13fbbf(0xed))[_0x13fbbf(0x111)]=_0x22f284['toFixed'](0x4),document[_0x13fbbf(0xdb)](_0x13fbbf(0x131))['value']=_0x5dff72[_0x13fbbf(0xe4)](0x4);const _0x568d21=vm['calculateHSP'](_0x22f284);hspInfo[_0x13fbbf(0x108)]=_0x13fbbf(0x12a)+_0x568d21[_0x13fbbf(0x133)]+_0x13fbbf(0x104)+_0x568d21[_0x13fbbf(0xec)]+_0x13fbbf(0x120),btnGetLocation['innerHTML']='<i\x20class=\x22fas\x20fa-map-marker-alt\x22></i>\x20Ubicación\x20Detectada';},()=>{const _0x492a12=_0x3042d7;alert(_0x492a12(0x137)),btnGetLocation[_0x492a12(0x108)]='<i\x20class=\x22fas\x20fa-map-marker-alt\x22></i>\x20Detectar\x20Ubicación\x20(GPS)';}));}),btnCalculate[a0_0x30385e(0xe5)](a0_0x30385e(0x12c),()=>{const _0x752944=a0_0x30385e;try{const _0x3b0c26={'batteryType':document[_0x752944(0xdb)](_0x752944(0xf3))[_0x752944(0x111)],'safetyFactor':parseFloat(document[_0x752944(0xdb)]('safetyFactor')[_0x752944(0x111)]),'panelPower':parseFloat(document[_0x752944(0xdb)]('panelPower')[_0x752944(0x111)]),'panelVoc':parseFloat(document[_0x752944(0xdb)](_0x752944(0xe3))['value']),'panelIsc':parseFloat(document[_0x752944(0xdb)](_0x752944(0xf0))['value']),'batteryUnitAh':parseFloat(document[_0x752944(0xdb)](_0x752944(0x14a))[_0x752944(0x111)])},_0x28aea1=vm[_0x752944(0xef)](_0x3b0c26);displayResults(_0x28aea1);}catch(_0x98797){alert(_0x98797[_0x752944(0x139)]);}});function renderAppliances(){const _0x233d13=a0_0x30385e;applianceList[_0x233d13(0x108)]=vm[_0x233d13(0x130)][_0x233d13(0xeb)]((_0x2a5101,_0x351c55)=>_0x233d13(0x144)+_0x2a5101[_0x233d13(0xe8)]+'</strong>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22font-size:\x200.8rem;\x20color:\x20var(--text-muted);\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20('+_0x2a5101['power']+_0x233d13(0xf4)+_0x2a5101[_0x233d13(0x103)]+_0x233d13(0x13d)+_0x2a5101['quantity']+_0x233d13(0xda)+_0x2a5101[_0x233d13(0x109)]+_0x233d13(0x13f)+_0x351c55+_0x233d13(0x134))['join']('');}window['removeApp']=_0x19a824=>{const _0x21d084=a0_0x30385e;vm[_0x21d084(0x13e)](_0x19a824),renderAppliances();};function displayResults(_0x568e99){const _0x28074b=a0_0x30385e;resultsDiv['style'][_0x28074b(0x117)]=_0x28074b(0xf2),resultsDiv[_0x28074b(0xff)]({'behavior':_0x28074b(0xf1)}),document['getElementById'](_0x28074b(0x124))[_0x28074b(0xdf)]=_0x568e99[_0x28074b(0x119)][_0x28074b(0xe1)]['toLocaleString']()+_0x28074b(0x10f),document[_0x28074b(0xdb)](_0x28074b(0x125))[_0x28074b(0xdf)]=_0x568e99[_0x28074b(0x119)][_0x28074b(0x145)][_0x28074b(0xd8)]()+_0x28074b(0x10f),document['getElementById'](_0x28074b(0x10a))[_0x28074b(0xdf)]=_0x568e99[_0x28074b(0x115)]['requiredWp'][_0x28074b(0xe4)](0x0)+_0x28074b(0x105),document[_0x28074b(0xdb)](_0x28074b(0x11f))[_0x28074b(0xdf)]=_0x568e99[_0x28074b(0x115)]['numPanels']+'\x20módulos\x20de\x20'+_0x568e99[_0x28074b(0x115)][_0x28074b(0x146)]+'W';const _0x3205a5=document[_0x28074b(0xdb)](_0x28074b(0x127));_0x3205a5&&(_0x568e99[_0x28074b(0x115)]['panelsInSeries']!==null&&_0x568e99[_0x28074b(0x115)][_0x28074b(0x12d)]!==null?(_0x3205a5['innerText']=_0x568e99[_0x28074b(0x115)][_0x28074b(0x138)]+_0x28074b(0x135)+_0x568e99[_0x28074b(0x115)]['panelsInParallel']+_0x28074b(0x142),_0x3205a5[_0x28074b(0x112)][_0x28074b(0xe9)][_0x28074b(0x117)]=''):_0x3205a5['parentElement'][_0x28074b(0xe9)]['display']=_0x28074b(0x100));document[_0x28074b(0xdb)](_0x28074b(0x11a))[_0x28074b(0xdf)]=_0x568e99[_0x28074b(0x126)][_0x28074b(0x141)]+'\x20V',document[_0x28074b(0xdb)](_0x28074b(0xf6))['innerText']=_0x568e99['battery'][_0x28074b(0xfb)]+_0x28074b(0xdd)+_0x568e99[_0x28074b(0x126)][_0x28074b(0x110)]+_0x28074b(0x142),document[_0x28074b(0xdb)](_0x28074b(0x102))[_0x28074b(0xdf)]=_0x568e99['battery'][_0x28074b(0xe0)]+'\x20de\x20'+document[_0x28074b(0xdb)](_0x28074b(0x14a))[_0x28074b(0x111)]+_0x28074b(0x10c)+_0x568e99['battery']['batteryType']+')',document['getElementById'](_0x28074b(0x122))['innerText']=Math['ceil'](_0x568e99[_0x28074b(0x12f)]['recommendedPower'])+'\x20W',document[_0x28074b(0xdb)](_0x28074b(0x10b))[_0x28074b(0xdf)]=_0x568e99[_0x28074b(0x116)][_0x28074b(0xd9)]+'\x20A';const _0x32c591=document[_0x28074b(0xdb)](_0x28074b(0x11b));_0x32c591&&(_0x568e99['controller'][_0x28074b(0x143)]!==null?(_0x32c591['innerText']=_0x568e99[_0x28074b(0x116)][_0x28074b(0x143)][_0x28074b(0xe4)](0x1)+_0x28074b(0x129),_0x32c591['parentElement'][_0x28074b(0xe9)][_0x28074b(0x117)]=''):_0x32c591[_0x28074b(0x112)]['style'][_0x28074b(0x117)]=_0x28074b(0x100));const _0xe2e952=document[_0x28074b(0xdb)](_0x28074b(0x12b));let _0x1e056f=0x0,_0x2e01c8=0x0;if(_0x568e99[_0x28074b(0x126)][_0x28074b(0x141)]===0xc)_0x1e056f=0xb,_0x2e01c8=14.4;else{if(_0x568e99[_0x28074b(0x126)]['systemVoltage']===0x18)_0x1e056f=0x18,_0x2e01c8=30.8;else _0x568e99['battery']['systemVoltage']===0x30&&(_0x568e99[_0x28074b(0x126)][_0x28074b(0xf3)]==='GEL'?(_0x1e056f=0x2d,_0x2e01c8=0x39):(_0x1e056f=0x2c,_0x2e01c8=0x35));}const _0x20348a=[0xa,0x14,0x1e,0x28,0x32,0x3c,0x46,0x50,0x5a,0x64];_0xe2e952[_0x28074b(0x108)]=_0x20348a[_0x28074b(0xeb)](_0x35f5c3=>{const _0x2b5071=_0x28074b,_0x4e1825=_0x1e056f+_0x35f5c3*(_0x2e01c8-_0x1e056f)/0x64,_0x324501=_0x35f5c3<=0x14?_0x2b5071(0x132):'';return _0x2b5071(0xdc)+_0x35f5c3+_0x2b5071(0x12e)+_0x324501+'>'+_0x4e1825[_0x2b5071(0xe4)](0x1)+_0x2b5071(0xf5);})['join']('');}